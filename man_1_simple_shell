.TH SIMPLE_SHELL 1 "November 2025" "Holberton School" "User Commands"
.SH NAME
simple_shell \- a simple UNIX command interpreter

.SH SYNOPSIS
.B ./hsh
.RI [commands]

.SH DESCRIPTION
The
.B simple_shell
program is a lightweight UNIX command interpreter written in C.  
It provides an interactive prompt as well as support for non-interactive
execution through pipes or files.

The shell reads input using
.BR getline(),
tokenizes the command into arguments, resolves the executable either
directly or through the directories listed in
.BR $PATH ,
and executes the command in a child process using
.BR fork()
and
.BR execve().

The shell implements basic built-in commands, handles environment
variables, prints informative error messages, and exits cleanly on EOF.

.SH FEATURES
.IP \[bu] 3
Interactive mode with a custom prompt:
.B #cisfun$
.IP \[bu] 3
Non-interactive mode (supports piping commands via stdin)
.IP \[bu] 3
Built-in commands:
.B exit ,
.B env
.IP \[bu] 3
Command execution with path resolution
.IP \[bu] 3
Accurate exit status handling
.IP \[bu] 3
EOF (Ctrl+D) detection and graceful exit
.IP \[bu] 3
Error messages follow exact required formatting:
.nf
./hsh: 1: command: not found
.fi

.SH BUILTINS
.TP
.B exit
Exit the shell.  
If no status is provided, the last command status is returned.

.TP
.B env
Prints the environment variables, one per line.

.SH USAGE
.SS Interactive mode
.nf
$ ./hsh
#cisfun$ ls
#cisfun$ env
#cisfun$ exit
$
.fi

.SS Non-interactive mode
.nf
$ echo "ls -l" | ./hsh
$ cat script.txt | ./hsh
.fi

.SS EOF handling
Press Ctrl+D to terminate:
.nf
#cisfun$ <Ctrl+D>
$
.fi

.SH IMPLEMENTATION DETAILS
The shell follows this execution flow:

.nf
1. Display prompt (interactive mode only)
2. Read input with getline()
3. Sanitize and tokenize input
4. Check for built-in commands
5. Resolve binary using PATH
6. fork() a child process
7. Execute command using execve()
8. Parent waits using wait()
9. Loop until "exit" or EOF
.fi

.SH FILES
.TP
.B main.c
Program entry point; initializes shell loop.

.TP
.B loop.c
Handles getline(), prompt display, and loop control.

.TP
.B tokenizer.c
Splits command into tokens.

.TP
.B executor.c
Handles fork(), execve(), wait(), and exit status logic.

.TP
.B path.c
Searches directories in $PATH to locate executables.

.TP
.B builtins.c
Implements built-ins: exit, env.

.TP
.B env_utils.c
Utility functions for environment operations.

.TP
.B string_utils.c
Helper string functions.

.TP
.B errors.c
Error formatting and printing.

.TP
.B shell.h
Header file containing prototypes, macros, and globals.

.SH RETURN VALUE
Returns the exit status of the last executed command.  
Built-in
.B exit
may override this value.

.SH ENVIRONMENT
The following environment variables affect the shell:

.TP
.B PATH
A colon-separated list of directories to search for commands.

.SH EXAMPLES
.nf
$ ./hsh
#cisfun$ /bin/ls
#cisfun$ env
#cisfun$ exit
.fi

.nf
$ echo "/bin/ls" | ./hsh
.fi

.SH REQUIREMENTS
.IP \[bu] 3
Ubuntu 20.04 LTS
.IP \[bu] 3
GCC with flags:
.B -Wall -Werror -Wextra -pedantic -std=gnu89
.IP \[bu] 3
No memory leaks
.IP \[bu] 3
Betty coding style enforced

.SH AUTHOR
Ali Abdullah Summan  
Omar Hail Alanzi

